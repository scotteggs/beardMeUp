
<!-- {{totalSpent}} -->
<div id = "all-orders">
	<div class="gray-divider">
	<br>
		<h1 class="order-notice">{{pendingCount}} ORDERS</h1>
		<p>Need Your Attention</p>
	</div>
	<div class="gray-divider-spacer"> </div> 
	<div class = "btn-group" style="margin-top: 40px;">
		<button ng-repeat="aFilter in filters" ng-class="{'btn':true, 'bmu-bg-red': true, 'bmu-bg-red2': orderFilter===aFilter.toLowerCase(), 'filter-buttons': true}" ng-click="changeFilter(aFilter.toLowerCase())" >{{aFilter}}</button>
	</div>

	<table class = "center">
		<tr>
				<th><a ng-click="sortType = 'index'; sortReverse=!sortReverse">ORDER</a></th>
				<th><a ng-click="sortType = 'datePlaced; sortReverse=!sortReverse'">DATE PLACED</a></th>
				<th><a ng-click="sortType = 'name'; sortReverse=!sortReverse">CUSTOMER</a></th>
				<th><a ng-click="sortType = 'status'; sortReverse=!sortReverse">STATUS</a></th>
				<th><a ng-click="sortType = 'orderTotal'; sortReverse=!sortReverse">TOTAL</a></th>
				<th></th>
		</tr>

		<tr ng-repeat = "(index, order) in allOrders | orderBy:sortType:sortReverse"
		ng-show = "correctOrder(order)">
			<td class = "col-xs-1">1000{{allOrders.indexOf(order)}}</td>
			<td class = "col-xs-2">{{order.datePlaced | date: 'mediumDate'}}</td>
			<td class = "col-xs-3">{{order.user.firstName + ' ' + order.user.lastName}}</td>
			<td class = "col-xs-2 {{order.status}}">{{order.status | uppercase}}</td>
			<td class = "col-xs-1">{{order.orderTotal/100 | currency}}</td>
			<td class = "col-xs-3" ng-click = "viewOrder(order._id)"><button class = "red-background">View Order</button></td>
		</tr>
	</table>
</div>